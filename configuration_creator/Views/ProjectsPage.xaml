<Page
    x:Class="configuration_creator.Views.ProjectsPage"
    Style="{DynamicResource MahApps.Styles.Page}"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:vm="clr-namespace:configuration_creator.ViewModels"
    xmlns:properties="clr-namespace:configuration_creator.Properties"
    xmlns:behaviors="clr-namespace:configuration_creator.Behaviors"
    mc:Ignorable="d"
    d:DesignHeight="600" d:DesignWidth="800">

    <Grid Margin="20">
        <!-- Régi statikus csempék helyett dinamikus lista -->
        <ItemsControl ItemsSource="{Binding Projects}">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <UniformGrid Columns="4" Rows="3"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>

            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Border Background="#FF2D2D30" CornerRadius="8" Margin="10"
                            MouseDown="ProjectTile_MouseDown">
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="{Binding Client}" 
                                     FontSize="16" Margin="10" TextAlignment="Center"/>
                            <TextBlock Text="{Binding CC}" 
                                     FontSize="14" Margin="10" TextAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <!-- Meglévő új projekt gomb megtartása -->
        <Button Content="➕ New Project" 
                Command="{Binding NewProjectCommand}"
                VerticalAlignment="Bottom"
                HorizontalAlignment="Right"
                Margin="20"
                Padding="20 10"/>
    </Grid>
</Page>
